#{extends 'main.html' /}
<div class="panel panel-default">
	<div class="panel-heading" style="font-size: 20px;">Unidades
		de Saúde</div>
	<div class="panel-body">
		<!-- Filtros da Listagem		 -->
		<div class="row" style="margin-bottom: 15px">
			<form name="filtroForm" ng-submit="ctrl.pesquisar()">
				<div class="form-group" style="margin-bottom: 15px">
					<div class="col-md-3">
						<label>Nome:</label> <input type="text" class="form-control"
							name="nome" ng-model="ctrl.filtro.nome" />
					</div>
					<div class="col-md-3" style="padding-top: 24px">
						<button type="submit" class="btn btn-primary" title="Pesquisar"
							aria-hidden="true">Filtrar</button>
					</div>
				</div>
			</form>
		</div>
		<div class="row">
			<div class="col-md-12">
				<!-- Listagem das unidades -->
				<table
					class="table table-striped table-bordered table-hover table-condensed"
					style="margin-top: 10px;">
					<thead>
						<tr>
							<th class="text-center">CNES</th>
							<th class="text-center">Nome</th>
							<th class="text-center">Email</th>
							<th class="text-center">Endereço</th>
							<th class="text-center">Estado</th>
							<th class="text-center">Municipio</th>
							<th class="text-center">CNPJ</th>
							<th class="text-center">Editar</th>
							
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="unidade in ctrl.unidades">
							<td class="text-center">{{unidade.cnes}}</td>
							<td>{{unidade.nomeFantasia}}</td>
							<td>{{unidade.email}}</td>
							<td>{{unidade.endereco}} {{unidade.bairro}} {{unidade.municipio.nome}} - {{unidade.municipio.estado.sigla}}</td>
							<td class="text-center">{{unidade.municipio.estado.nome}}</td>
							<td class="text-center">{{unidade.municipio.nome}}</td>
							<td class="text-center">{{unidade.cnpj}}</td>
							<td style="text-align: center;">
								<button ng-click="ctrl.editar(unidade)" type="button"
									class="btn btn-xs btn-default" title="Visualizar">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								</button>
							</td>
						</tr>
						<tr ng-show="ctrl.unidades.length == 0">
							<td class="text-center" colspan="5">Nenhuma unidade
								cadastrada.</td>
						</tr>
					</tbody>
				</table>
				<paginacao paginador="ctrl.paginador"></paginacao>
			</div>
		</div>
	</div>
</div>
