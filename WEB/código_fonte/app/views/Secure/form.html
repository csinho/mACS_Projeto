<!DOCTYPE html>

#{extends 'main.html' /} #{set title:'Login' /}
<script charset="utf-8" src="@{'/public/javascripts/controllers/login.controller.js'}" type="text/javascript"></script>

<style media="screen">
  body {
    background-color: #E8EFFA;
  }

  .loginBlock {
    margin-top: 5%;
  }

  .form-control:focus {
    border-color: #66afe9;
    border-width: 2px;
    outline: 0;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);
  }

</style>

<div ng-controller="LoginController as loginCtrl" class="container" style="margin-top: 10%;">
    <div class="row">
      <div class="col-sm-4 col-sm-offset-2">
        <div class="logo-content">
          <div class="logo-content">
            <img src="/public/images/logo_medio.png">
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <fieldset>
          <legend>Acesso</legend>
          <form class="form-signin">
            <div class="form-group">
              <label for="login" class="sr-only">LOGIN</label>
              <input class="form-control" placeholder="LOGIN" id="login" maxlength="50"
                name="login" ng-model="loginCtrl.login.login" type="text" required>
              <label for="senha" class="sr-only">SENHA</label>
              <input class="form-control" placeholder="SENHA" id="senha" name="senha"
                ng-model="loginCtrl.login.pass" type="password" required />
            </div>
            <button class="btn btn-info btn-block" id="btn-entrar" name="entrar" ng-click="loginCtrl.entrar()"
              ng-disabled="loginCtrl.submiting">ENTRAR</button>
            <a class="btn btn-default btn-block" id="btn-esqueci-senha" name="esqueci" data-toggle="modal"
              data-target="#esqueciSenha" ng-click="loginCtrl.abrirModalRecuperarSenha()">Esqueci minha senha</a>
          </form>
        </fieldset>      
      </div>
    </div>
  </div>

  <script type="text/ng-template" id="modalRecuperarSenha.html">
    <div class="modal-header">
      <button type="button" class="close" aria-label="Close" ng-click="loginCtrl.fecharModalRecuperarSenha()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="modal-title" id="myModalLabel">Recuperação de senha</h4>
    </div>
    <div class="modal-body">
      <div class="row" style="padding: 0px 15px 0px 15px">
        <div class="input-group">
          <div class="input-group-addon">Usuário:</div>
          <input class="form-control input-md" placeholder="LOGIN" id="loginRecuperar" maxlength="50"
            name="login" ng-model="loginCtrl.usuarioRecuperar" type="text">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button id="cancelar" type="button" class="btn btn-default" ng-click="loginCtrl.fecharModalRecuperarSenha()">Cancelar</button>
      <button id="excluir" type="button" class="btn btn-primary" ng-click="loginCtrl.enviarRecuperacao($event)">Solicitar</button>
    </div>
  </script>
</div>
